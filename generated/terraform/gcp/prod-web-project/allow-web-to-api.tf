# =============================================================================
# Auto-generated by Network Security Policy-as-Code
# Policy: allow-web-to-api
# Ticket: SNOW-12345
# Requestor: john.smith@company.com
# Scope: prod-web-project
# =============================================================================

# Policy Resources

resource "google_compute_firewall" "allow_web_to_api" {
  name        = "allow-web-to-api"
  network     = "default"  # Configure based on scope
  project     = "prod-web-project"
  description = "Allow web tier to communicate with API tier on HTTPS - SNOW-12345"
  direction   = "INGRESS"
  
  source_tags = ["web-tier"]
  target_tags = ["api-tier"]

  allow {
    protocol = "tcp"
    ports    = ["443"]
  }
  
  # Logging
  log_config {
    metadata = ""INCLUDE_ALL_METADATA""
  }
}
