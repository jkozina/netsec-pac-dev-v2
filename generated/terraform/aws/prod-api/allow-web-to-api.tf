# =============================================================================
# Auto-generated by Network Security Policy-as-Code
# Policy: allow-web-to-api
# Ticket: SNOW-12345
# Requestor: john.smith@company.com
# Scope: prod-api
# =============================================================================

# Supporting Resources

data "aws_security_group" "web_tier" {
  tags = {
    "netsec:group" = "web-tier"
  }
}


data "aws_security_group" "api_tier" {
  tags = {
    "netsec:group" = "api-tier"
  }
}

# Policy Resources

resource "aws_security_group_rule" "allow_web_to_api_0_0" {
  type              = "ingress"
  from_port         = 443
  to_port           = 443
  protocol          = "tcp"
  source_security_group_id = data.aws_security_group.web_tier.id
  security_group_id = "TODO_DESTINATION_SG_ID"  # Configure based on scope
  
  description = "Allow web tier to communicate with API tier on HTTPS - SNOW-12345"
}
